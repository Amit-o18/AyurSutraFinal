{% extends "base.html" %}

{% block title %}Visualization & Analytics Tools | AyurSutra{% endblock %}

{% block content %}
<main class="content">
    <h2 class="content-title">Visualization & Analytics Tools</h2>
    <p>Explore comprehensive visualizations and analytics to track your therapy progress and health metrics over time.</p>

    <div class="analytics-grid">
        <div class="card">
            <h3>Therapy Progress Over Time</h3>
            <canvas id="therapyProgressChart" style="max-width:100%"></canvas>
        </div>
        <div class="card">
            <h3>Health Metrics Dashboard</h3>
            <canvas id="healthMetricsChart" style="max-width:100%"></canvas>
        </div>
    </div>

    <style>
    .analytics-grid { display:grid; grid-template-columns: 1fr 1fr; gap:18px }
    @media (max-width:900px){ .analytics-grid{grid-template-columns:1fr} }
    </style>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
    (function(){
        // Therapy Progress Chart
        const ctx1 = document.getElementById('therapyProgressChart').getContext('2d');
        const therapyProgressChart = new Chart(ctx1, {
            type: 'line',
            data: {
                labels: ['Week 1', 'Week 2', 'Week 3', 'Week 4', 'Week 5'],
                datasets: [{
                    label: 'Therapy Completion (%)',
                    data: [20, 40, 60, 80, 100],
                    borderColor: 'rgba(54, 162, 235, 1)',
                    backgroundColor: 'rgba(54, 162, 235, 0.2)',
                    fill: true,
                    tension: 0.3
                }]
            },
            options: {
                responsive: true,
                scales: {
                    y: { beginAtZero: true, max: 100 }
                }
            }
        });

        // Health Metrics Chart
        const ctx2 = document.getElementById('healthMetricsChart').getContext('2d');
        const healthMetricsChart = new Chart(ctx2, {
            type: 'bar',
            data: {
                labels: ['Blood Pressure', 'Heart Rate', 'Cholesterol', 'Blood Sugar'],
                datasets: [{
                    label: 'Current Values',
                    data: [120, 75, 190, 90],
                    backgroundColor: [  
                        'rgba(255, 99, 132, 0.6)',
                        'rgba(54, 162, 235, 0.6)',
                        'rgba(255, 206, 86, 0.6)',
                        'rgba(75, 192, 192, 0.6)'
                    ],
                    borderColor: [  
                        'rgba(255, 99, 132, 1)',
                        'rgba(54, 162, 235, 1)',
                        'rgba(255, 206, 86, 1)',
                        'rgba(75, 192, 192, 1)'
                    ],
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                scales: {
                    y: { beginAtZero: true }
                }
            }
        });
    })();
    </script>
</main>
{% endblock %}